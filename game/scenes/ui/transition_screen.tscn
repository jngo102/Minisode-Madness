[gd_scene load_steps=45 format=3 uid="uid://b7efyr5igynpq"]

[ext_resource type="Script" uid="uid://b6x7l1sjv8r1u" path="res://game/scripts/autoload/audio_manager/music_track.gd" id="2_gvatp"]
[ext_resource type="Script" uid="uid://bjmmkuwuns206" path="res://game/scripts/ui/transition_screen.gd" id="2_oxbg6"]
[ext_resource type="PackedScene" uid="uid://bwsi3gq7cj1qq" path="res://game/scenes/ui/volume/volume_bar.tscn" id="3_ijvw4"]
[ext_resource type="Texture2D" uid="uid://c4odgh5s5bg6l" path="res://game/assets/art/ui/portraits/portrait1.png" id="3_wsf6i"]
[ext_resource type="Resource" uid="uid://br8006da5d2vx" path="res://game/resources/music_tracks/main1.tres" id="3_xfiq6"]
[ext_resource type="Texture2D" uid="uid://cgla2vecr18h4" path="res://game/assets/art/ui/portraits/portrait2.png" id="4_8m1v8"]
[ext_resource type="Resource" uid="uid://bxyqjwmw7ttcn" path="res://game/resources/music_tracks/main2.tres" id="4_a4ssl"]
[ext_resource type="Resource" uid="uid://citr7xpqnyjcr" path="res://game/resources/music_tracks/main3.tres" id="5_073ry"]
[ext_resource type="Texture2D" uid="uid://qhc34lfcjt1p" path="res://game/assets/art/ui/portraits/portrait3.png" id="5_o7nsu"]
[ext_resource type="Resource" uid="uid://c4wwou03y1rqy" path="res://game/resources/music_tracks/main4.tres" id="6_3itgs"]
[ext_resource type="Texture2D" uid="uid://8llgomy3wwl1" path="res://game/assets/art/ui/portraits/portrait4.png" id="6_qeif5"]
[ext_resource type="VideoStream" uid="uid://jnsqg2s656l5" path="res://game/assets/videos/static_long.ogv" id="7_gvatp"]
[ext_resource type="Texture2D" uid="uid://dkdog6ps0qb76" path="res://game/assets/art/ui/portraits/portrait0.png" id="9_xfiq6"]
[ext_resource type="Texture2D" uid="uid://cjn65fp4wkpy3" path="res://game/assets/art/ui/static/static1.png" id="13_qqvv6"]
[ext_resource type="Texture2D" uid="uid://bh67qp7f0h0s" path="res://game/assets/art/ui/static/static2.png" id="14_5rhs1"]
[ext_resource type="Texture2D" uid="uid://cfqcuyqvu7oup" path="res://game/assets/art/ui/hud/lives/life0.png" id="14_j77i6"]
[ext_resource type="Texture2D" uid="uid://cx35w5f6bopxt" path="res://game/assets/art/ui/hud/lives/life1.png" id="15_3kwkc"]
[ext_resource type="Texture2D" uid="uid://btsnxkxrf81qh" path="res://game/assets/art/ui/static/static3.png" id="15_3mygg"]
[ext_resource type="Texture2D" uid="uid://b5oetg5k5opbl" path="res://game/assets/art/ui/static/static4.png" id="16_ijmka"]
[ext_resource type="Texture2D" uid="uid://cv1jlw8cb12op" path="res://game/assets/art/ui/hud/lives/life2.png" id="16_ku1ts"]
[ext_resource type="Texture2D" uid="uid://c6g3rfuynxv8w" path="res://game/assets/art/ui/static/static5.png" id="17_a8c4o"]
[ext_resource type="Texture2D" uid="uid://3w8tgf2l83qg" path="res://game/assets/art/ui/hud/lives/life3.png" id="17_vkul0"]
[ext_resource type="Texture2D" uid="uid://diop5fcl05mf8" path="res://game/assets/art/ui/transitions/dizzypurple1.png" id="18_5n7a4"]
[ext_resource type="Texture2D" uid="uid://upvpcxcbafr6" path="res://game/assets/art/ui/static/static6.png" id="18_34nbp"]
[ext_resource type="Texture2D" uid="uid://dr82ddpkxigma" path="res://game/assets/art/ui/transitions/dizzypurple2.png" id="19_niu52"]
[ext_resource type="Texture2D" uid="uid://be4x0k43jjh7q" path="res://game/assets/art/ui/static/static7.png" id="19_nr868"]
[ext_resource type="Texture2D" uid="uid://gsbfjuw3ll1u" path="res://game/assets/art/ui/transitions/dizzypurple3.png" id="20_da085"]
[ext_resource type="Texture2D" uid="uid://kuxw1npjm6ar" path="res://game/assets/art/ui/transitions/dizzypurple4.png" id="21_ci0iu"]
[ext_resource type="Texture2D" uid="uid://w53shsjxloyr" path="res://game/assets/art/ui/transitions/headphonered1.png" id="22_cy0ip"]
[ext_resource type="Texture2D" uid="uid://cxp7ygeuwyk22" path="res://game/assets/art/ui/transitions/headphonered2.png" id="23_mcrx7"]
[ext_resource type="Texture2D" uid="uid://4mb02x06ruj8" path="res://game/assets/art/ui/transitions/headphonered3.png" id="24_gax5y"]
[ext_resource type="Texture2D" uid="uid://jd6nlihhy7ec" path="res://game/assets/art/ui/transitions/headphonered4.png" id="25_4jps1"]
[ext_resource type="Texture2D" uid="uid://i881f8x4k6ag" path="res://game/assets/art/ui/transitions/headphonered5.png" id="26_r127k"]
[ext_resource type="FontFile" uid="uid://chch6ugip06xa" path="res://game/assets/fonts/Playtime.ttf" id="34_5rhs1"]

[sub_resource type="Animation" id="Animation_a4ssl"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("./portrait:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}

[sub_resource type="Animation" id="Animation_xfiq6"]
resource_name = "tilt"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("portrait:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [0.7853981633974483, -0.7853981633974483]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_073ry"]
_data = {
&"RESET": SubResource("Animation_a4ssl"),
&"tilt": SubResource("Animation_xfiq6")
}

[sub_resource type="AnimatedTexture" id="AnimatedTexture_e541r"]
frames = 7
speed_scale = 8.0
frame_0/texture = ExtResource("13_qqvv6")
frame_1/texture = ExtResource("14_5rhs1")
frame_1/duration = 1.0
frame_2/texture = ExtResource("15_3mygg")
frame_2/duration = 1.0
frame_3/texture = ExtResource("16_ijmka")
frame_3/duration = 1.0
frame_4/texture = ExtResource("17_a8c4o")
frame_4/duration = 1.0
frame_5/texture = ExtResource("18_34nbp")
frame_5/duration = 1.0
frame_6/texture = ExtResource("19_nr868")
frame_6/duration = 1.0

[sub_resource type="AnimatedTexture" id="AnimatedTexture_5n7a4"]
frames = 4
frame_0/texture = ExtResource("18_5n7a4")
frame_0/duration = 0.25
frame_1/texture = ExtResource("19_niu52")
frame_1/duration = 0.25
frame_2/texture = ExtResource("20_da085")
frame_2/duration = 0.25
frame_3/texture = ExtResource("21_ci0iu")
frame_3/duration = 0.25

[sub_resource type="AnimatedTexture" id="AnimatedTexture_niu52"]
frames = 5
frame_0/texture = ExtResource("22_cy0ip")
frame_0/duration = 0.25
frame_1/texture = ExtResource("23_mcrx7")
frame_1/duration = 0.5
frame_2/texture = ExtResource("24_gax5y")
frame_2/duration = 0.25
frame_3/texture = ExtResource("25_4jps1")
frame_3/duration = 0.5
frame_4/texture = ExtResource("26_r127k")
frame_4/duration = 0.25

[sub_resource type="Animation" id="Animation_5rhs1"]
resource_name = "show"
length = 2.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:scale")
tracks/0/interp = 2
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.25),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(3, 3), Vector2(1, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:position")
tracks/1/interp = 2
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.25),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(-577, 41.000015), Vector2(101.075, 191)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".:self_modulate")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.25, 2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(0.9955913, 0.886004, 1, 1), Color(1, 1, 1, 0)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath(".:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="Animation" id="Animation_3mygg"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(-577, 41.000015)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath(".:self_modulate")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath(".:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_3mygg"]
_data = {
&"RESET": SubResource("Animation_3mygg"),
&"show": SubResource("Animation_5rhs1")
}

[sub_resource type="LabelSettings" id="LabelSettings_3mygg"]
font = ExtResource("34_5rhs1")
font_size = 96
font_color = Color(0.99607843, 0.7647059, 1, 1)
outline_size = 16
outline_color = Color(0, 0, 0, 1)

[node name="transition_screen" type="Control"]
layout_mode = 3
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -320.0
offset_top = -240.0
offset_right = 320.0
offset_bottom = 240.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 3
size_flags_vertical = 3
script = ExtResource("2_oxbg6")
portraits = Array[Texture2D]([ExtResource("9_xfiq6"), ExtResource("3_wsf6i"), ExtResource("4_8m1v8"), ExtResource("5_o7nsu"), ExtResource("6_qeif5")])
music_list = Array[ExtResource("2_gvatp")]([ExtResource("3_xfiq6"), ExtResource("4_a4ssl"), ExtResource("5_073ry"), ExtResource("6_3itgs")])

[node name="anim" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_073ry")
}

[node name="video_player" type="VideoStreamPlayer" parent="."]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -320.0
offset_top = -240.0
offset_right = 320.0
offset_bottom = 240.0
grow_horizontal = 2
grow_vertical = 2
stream = ExtResource("7_gvatp")

[node name="static" type="TextureRect" parent="."]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = SubResource("AnimatedTexture_e541r")

[node name="volume_bar" parent="." instance=ExtResource("3_ijvw4")]
layout_mode = 1
anchors_preset = 0
anchor_top = 0.0
anchor_bottom = 0.0
offset_left = 32.0
offset_top = 49.0
offset_right = 221.0
offset_bottom = 153.0
grow_vertical = 1

[node name="portrait" type="TextureRect" parent="."]
layout_mode = 0
offset_left = 402.00006
offset_top = 72.0
offset_right = 530.00006
offset_bottom = 186.0
scale = Vector2(2, 2)
pivot_offset = Vector2(64, 64)
texture = ExtResource("9_xfiq6")

[node name="lives" type="Control" parent="."]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -294.0
offset_top = 69.0
offset_right = 530.0
offset_bottom = 351.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(0.5, 0.5)

[node name="life0" type="TextureRect" parent="lives"]
layout_mode = 0
offset_right = 194.0
offset_bottom = 282.0
texture = ExtResource("14_j77i6")
stretch_mode = 4

[node name="life1" type="TextureRect" parent="lives"]
layout_mode = 0
offset_left = 210.0
offset_right = 404.0
offset_bottom = 282.0
texture = ExtResource("15_3kwkc")
stretch_mode = 4

[node name="life2" type="TextureRect" parent="lives"]
layout_mode = 0
offset_left = 420.0
offset_right = 614.0
offset_bottom = 282.0
texture = ExtResource("16_ku1ts")
stretch_mode = 4

[node name="life3" type="TextureRect" parent="lives"]
layout_mode = 0
offset_left = 630.0
offset_top = -48.89
offset_right = 824.0
offset_bottom = 233.11
texture = ExtResource("17_vkul0")
stretch_mode = 4

[node name="transitions" type="Control" parent="."]
anchors_preset = 0
offset_left = 323.0
offset_top = 255.0
offset_right = 363.0
offset_bottom = 295.0

[node name="win" type="TextureRect" parent="transitions"]
visible = false
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -200.0
offset_top = -200.0
offset_right = 200.0
offset_bottom = 200.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(0.5, 0.5)
pivot_offset = Vector2(64, 64)
texture = SubResource("AnimatedTexture_5n7a4")
stretch_mode = 4

[node name="lose" type="TextureRect" parent="transitions"]
visible = false
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -200.0
offset_top = -200.0
offset_right = 200.0
offset_bottom = 200.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(0.5, 0.5)
pivot_offset = Vector2(64, 64)
texture = SubResource("AnimatedTexture_niu52")
stretch_mode = 4

[node name="speed_up" type="AnimationPlayer" parent="."]
root_node = NodePath("label")
libraries = {
&"": SubResource("AnimationLibrary_3mygg")
}

[node name="label" type="Label" parent="speed_up"]
visible = false
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -1057.0
offset_top = -228.99998
offset_right = -319.0005
offset_bottom = -86.00008
grow_horizontal = 2
grow_vertical = 2
text = "SPEED UP!"
label_settings = SubResource("LabelSettings_3mygg")
horizontal_alignment = 1
vertical_alignment = 1

[connection signal="finished" from="video_player" to="." method="_on_video_player_finished"]
